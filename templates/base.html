<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>{% block titulo %}DovahCloud{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estilos.css') }}">
</head>
<body>

<header style="border-bottom: 1px solid #ddd; padding: 10px;">
      <a href="{{ url_for('inicio') }}" class="logo-link">
      <img src="{{ url_for('static', filename='img/logo.jpg') }}" alt="Logo DovahCloud" style="width: 150px">
        DovahCloud
      </a>
    
    {% if session.get('usuario_id') %}
        <div style="display: flex; align-items: center; gap: 1em;">
            <img src="{{ url_for('static', filename='avatars/' ~ session['avatar']) }}" width="40" style="border-radius: 50%; border: 1px solid #aaa;">
            <span>ğŸ‘‹ Hola, {{ session['usuario_nombre'] }}</span>
            <a href="{{ url_for('logout') }}">ğŸšª Salir</a>
        </div>
    {% else %}
        <div>
            <a href="{{ url_for('login') }}">ğŸ” Iniciar sesiÃ³n</a> |
            <a href="{{ url_for('registro') }}">ğŸ“ Registro</a>
        </div>
    {% endif %}
</header>

<nav style="padding: 10px; background-color: #444444; border-bottom: 1px solid #ccc;">
  <a href="{{ url_for('ver_archivos') }}">ğŸ“ Archivos</a> |
  <a href="/galeria">ğŸ–¼ï¸ GalerÃ­a de imÃ¡genes</a> |
  <a href="/videos">ğŸ¬ GalerÃ­a de vÃ­deos</a> |
  <a href="/multimedia">ğŸ§ª Estado multimedia</a>

  {% if session.get('usuario_id') %}
    | <a href="{{ url_for('upload') }}">â¬†ï¸ Subir</a>
    | <a href="{{ url_for('ver_favoritos') }}">â­ Favoritos</a>
    | <a href="{{ url_for('papelera') }}">ğŸ—‘ï¸ Papelera</a>
    | <a href="{{ url_for('descargar_youtube') }}">ğŸ“¥ YouTube</a>
    | <a href="{{ url_for('ver_cola') }}">ğŸ“¥ Cola{% if cantidad_cola > 0 %} ({{ cantidad_cola }}){% endif %}</a>

    {% if session.get('acceso_privado') %}
      | <a href="{{ url_for('zona_privada') }}">ğŸ”’ Zona Privada</a>
    {% endif %}

    {% if session.get('es_admin') %}
      | <a href="{{ url_for('panel_admin') }}">ğŸ‘‘ Admin</a>
    {% endif %}

    | <a href="{{ url_for('logout') }}">âï¸ Salir</a>
  {% else %}
    | <a href="{{ url_for('login') }}">ğŸ”‘ Iniciar sesiÃ³n</a>
    | <a href="{{ url_for('registro') }}">ğŸ“ Registro</a>
  {% endif %}
</nav>


<main style="padding: 20px;">
    {% with mensajes = get_flashed_messages() %}
        {% if mensajes %}
            <ul style="color: darkgreen;">
                {% for mensaje in mensajes %}
                    <li>{{ mensaje }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
    
    {% block contenido %}{% endblock %}
</main>

<footer style="text-align: center; color: #888; font-size: 0.9em; padding: 10px;">
    <p>DovahCloud ğŸ² â€” Proyecto local de gestiÃ³n de archivos</p>
</footer>

</body>
</html>
