{% extends "base.html" %}
{% block titulo %}‚ñ∂Ô∏è Reproduciendo desde cola{% endblock %}

{% block contenido %}
<h1>‚ñ∂Ô∏è Reproduciendo archivo {{ pos + 1 }} de {{ total }}</h1>

{% if archivo %}
  <h2>{{ archivo.nombre }}</h2>
  <p><strong>Tipo:</strong> {{ archivo.tipo }} | <strong>Tama√±o:</strong> {{ archivo.tama√±o | filesizeformat }}</p>

  {% if archivo.tipo.startswith('audio/') %}
    <audio controls autoplay style="width: 100%; max-width: 600px;">
      <source src="/media/{{ archivo.nombre }}" type="{{ archivo.tipo }}">
      Tu navegador no soporta la reproducci√≥n de audio.
    </audio>
  {% elif archivo.tipo.startswith('video/') %}
    <video controls autoplay width="640" height="360">
      <source src="/media/{{ archivo.nombre }}" type="{{ archivo.tipo }}">
      Tu navegador no soporta la reproducci√≥n de video.
    </video>
  {% else %}
    <p>Este tipo de archivo no se puede reproducir directamente.</p>
  {% endif %}

  <div style="margin-top: 20px;">
    {% if pos > 0 %}
      <a href="{{ url_for('reproducir_desde_cola', pos=pos - 1) }}">‚èÆÔ∏è Anterior</a>
    {% endif %}

    {% if pos + 1 < total %}
      <a href="{{ url_for('reproducir_desde_cola', pos=pos + 1) }}">‚è≠Ô∏è Siguiente</a>
    {% endif %}

    | <a href="{{ url_for('ver_cola') }}">üì• Ver cola</a>
  </div>
{% else %}
  <p>‚ö†Ô∏è No se encontr√≥ el archivo solicitado.</p>
{% endif %}
{% endblock %}
