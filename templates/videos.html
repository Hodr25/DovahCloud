{% extends "base.html" %}
{% block titulo %}üé¨ Galer√≠a de v√≠deos{% endblock %}

{% block contenido %}
<h1>üé• Galer√≠a de v√≠deos</h1>

<style>
.videogrid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 20px;
    margin-top: 20px;
}
.videogrid video {
    width: 100%;
    height: auto;
    border: 1px solid #ccc;
}
.videogrid .video-item {
    background: #252525;
    padding: 8px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
}
.videogrid p {
    margin-top: 8px;
    font-size: 14px;
    word-break: break-word;
}
</style>

<div class="videogrid">
    {% for v in videos %}
      {% if not v.es_privado %}
        <div class="video-item">
            <video controls preload="metadata">
                <source src="/media/{{ v.nombre }}" type="{{ v.tipo }}">
                Tu navegador no soporta este v√≠deo.
            </video>
            <p>
                <a href="/archivo/{{ v.id }}">{{ v.nombre }}</a>
            </p>
        </div>
      {% endif %}
    {% endfor %}
</div>

{% if videos|selectattr("es_privado", "equalto", false)|list|length == 0 %}
<p>No hay v√≠deos p√∫blicos disponibles por el momento.</p>
{% endif %}

<br>
<a href="/">‚Üê Volver al inicio</a>
{% endblock %}
